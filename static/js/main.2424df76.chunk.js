(this.webpackJsonpproyectoecommerce=this.webpackJsonpproyectoecommerce||[]).push([[0],{27:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c(2),r=c.n(i),a=c(32),s=c.n(a),j=(c(40),c(41),c(3)),o=(c(42),c(34)),l=Object(i.createContext)(),d=function(){return Object(i.useContext)(l)},b=function(e){var t=e.children,c=Object(i.useState)([]),r=Object(j.a)(c,2),a=r[0],s=r[1],d=Object(i.useState)(0),b=Object(j.a)(d,2),O=b[0],u=b[1],h=Object(i.useState)(0),x=Object(j.a)(h,2),m=x[0],p=x[1];return console.log(a),Object(n.jsx)(l.Provider,{value:{cart:a,itemQuantity:O,addCart:function(e,t){var c=a.findIndex((function(t){return t.item.id===e.item.id}));if(u(O+parseInt(t)),-1!==c){var n=Array.from(a);a[c].cantidad+=e.cantidad,s(n)}else s([e].concat(Object(o.a)(a)));p(m+e.item.price*e.cantidad)},removeItem:function(e,t,c){var n=a.filter((function(t){return t.item.id!==e}));s(n),u(O-t),p(m-c)},clearCart:function(){s([]),u(0),p(0)},total:m},children:t})},O=c(6),u=function(){var e=d(),t=e.cart,c=e.itemQuantity,r=e.removeItem,a=e.total,s=Object(i.useState)(!1),o=Object(j.a)(s,2),l=o[0],b=o[1];return Object(n.jsxs)("div",{children:[Object(n.jsxs)("p",{className:"fas fa-shopping-cart",onClick:function(){return b(!0)},children:[Object(n.jsx)("i",{}),c]}),l&&Object(n.jsxs)("div",{className:"openCart",children:[t.map((function(e,t){return Object(n.jsxs)("div",{className:"cartDetail",children:[Object(n.jsx)("p",{children:Object(n.jsx)("strong",{children:"".concat(e.cantidad,"  ").concat(e.item.title)})}),Object(n.jsxs)("p",{children:["Precio: ",e.item.price]}),Object(n.jsxs)("p",{children:["Total: ",e.item.price*e.cantidad]}),Object(n.jsx)("button",{onClick:function(){return r(e.item.id,e.cantidad,e.item.price*e.cantidad)},children:"Quitar del carrito"})]},t)})),Object(n.jsx)("p",{children:Object(n.jsxs)("strong",{children:["Total: $",a]})}),Object(n.jsx)("button",{onClick:function(){return b(!1)},children:Object(n.jsx)(O.b,{to:"/checkout",className:"checkoutCart",children:"Finalizar compra"})}),Object(n.jsx)("button",{onClick:function(){return b(!1)},children:"Cerrar"})]})]})},h=(c(47),function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("nav",{children:[Object(n.jsxs)("ul",{className:"navlist--1",children:[Object(n.jsx)("li",{children:Object(n.jsx)(O.c,{to:"/",children:"VER TODO"})}),Object(n.jsx)("li",{children:Object(n.jsx)(O.c,{to:"/PS4",children:" PS4"})}),Object(n.jsx)("li",{children:Object(n.jsx)(O.c,{to:"/NSwitch",children:" SWITCH"})}),Object(n.jsx)("li",{children:Object(n.jsx)(O.c,{to:"/FunkoPop",children:" FunkoPop"})}),Object(n.jsx)("li",{children:Object(n.jsx)(O.c,{to:"/Contacto",children:" Contacto "})})]}),Object(n.jsx)(u,{})]})})}),x=(c(27),c(48),function(e){var t=e.id,c=e.title,i=e.price,r=e.img;return Object(n.jsx)("div",{children:Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:r,alt:"title"})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("hr",{}),Object(n.jsx)("span",{children:c}),Object(n.jsx)("hr",{}),Object(n.jsxs)("p",{className:"price",children:["$",i]})]}),Object(n.jsx)("div",{className:"itemDetalle",children:Object(n.jsx)(O.c,{to:"/ITEM/".concat(t),children:"Ver Detalle"})})]})})}),m=(c(49),function(e){var t=e.items;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"bloque",children:t.length>0?t.map((function(e){return Object(n.jsx)("div",{className:"itemList",children:Object(n.jsx)(x,{id:e.id,title:e.data.title,price:e.data.price,img:e.data.img},e.categoria)})})):Object(n.jsx)("p",{children:"Loading..."})})})}),p=c(13),f=(c(28),p.a.initializeApp({apiKey:"AIzaSyCdVa-OMvajMoo7VEKQ4tmw9_N_D90KQjo",authDomain:"reactcommercecoder.firebaseapp.com",projectId:"reactcommercecoder",storageBucket:"reactcommercecoder.appspot.com",messagingSenderId:"614805245777",appId:"1:614805245777:web:98751e539d952d3df14d70",measurementId:"G-9KK810GD28"})),v=function(){return p.a.firestore(f)},g=function(e){var t=e.category,c=void 0===t?null:t,r=Object(i.useState)([]),a=Object(j.a)(r,2),s=a[0],o=a[1],l=v();return Object(i.useEffect)((function(){c?l.collection("ITEM").where("category","==",c).get().then((function(e){var t=[];e.forEach((function(e){t.push({id:e.id,data:e.data()})})),o(t)})).catch((function(e){console.log(e)})):l.collection("ITEM").get().then((function(e){var t=[];e.forEach((function(e){t.push({id:e.id,data:e.data()})})),o(t)})).catch((function(e){console.log(e)}))}),[l,c]),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(m,{items:s})})},C=(c(50),c(51),c(25)),N=c.n(C),S=function(e){var t=e.stock,c=e.initial,r=e.onAdd,a=Object(i.useState)(c),s=Object(j.a)(a,2),o=s[0],l=s[1];return Object(n.jsxs)("div",{className:"product",children:[Object(n.jsx)("button",{onClick:function(){o>1?l(o-1):N()("Elige al menos una unidad")},children:"-"}),Object(n.jsxs)("span",{children:[o," "]}),Object(n.jsx)("button",{onClick:function(){o<t?l(o+1):N()("Upps!","Stock no disponible")},children:"+"}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{onClick:function(e){return r(e,o)},className:"addButton",children:"COMPRAR"})})]})},y=function(e){var t=e.item,c=Object(i.useState)(!1),r=Object(j.a)(c,2),a=r[0],s=r[1],o=d().addCart;return Object(n.jsxs)("div",{className:"itemDetail",children:[Object(n.jsxs)("div",{className:"itemDetails",children:[Object(n.jsx)("h3",{children:t.title}),Object(n.jsx)("img",{src:t.img,alt:"",className:"itemDetail__img"})," ",Object(n.jsx)("img",{})]}),Object(n.jsxs)("div",{className:"texto",children:[Object(n.jsx)("p",{children:t.description}),Object(n.jsxs)("span",{className:"itemDetail__precio",children:["$",t.price]}),a?Object(n.jsxs)("div",{className:"comprar",children:[Object(n.jsx)("button",{children:Object(n.jsx)(O.b,{to:"/Cart",children:"FINALIZAR COMPRA"})}),Object(n.jsx)("button",{children:Object(n.jsx)(O.b,{to:"/",children:"SEGUIR COMPRANDO"})})]}):Object(n.jsx)("div",{children:Object(n.jsx)(S,{stock:t.stock,initial:1,onAdd:function(e,c){e.stopPropagation(),s(!0),o({item:t,cantidad:c},c)}})})]})]})},k=c(5),F=function(){var e=Object(k.f)().id,t=Object(i.useState)({}),c=Object(j.a)(t,2),r=c[0],a=c[1];return Object(i.useEffect)((function(){v().collection("ITEM").doc(e).get().then((function(e){e.exists&&a(e.data())})).catch((function(e){console.log(e)}))}),[e]),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{children:r?Object(n.jsx)(y,{item:r}):Object(n.jsx)("p",{children:"Loading... "})})})},I=(c(31),c(53),function(){var e=Object(i.useState)(""),t=Object(j.a)(e,2),c=t[0],r=t[1],a=Object(i.useState)(""),s=Object(j.a)(a,2),o=s[0],l=s[1],d=Object(i.useState)(""),b=Object(j.a)(d,2),O=b[0],u=b[1],h=Object(i.useState)(""),x=Object(j.a)(h,2),m=x[0],f=x[1],g=Object(i.useState)(),C=Object(j.a)(g,2),N=C[0],S=C[1];return Object(n.jsx)(n.Fragment,{children:N?Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("section",{className:"mensaje",children:[Object(n.jsx)("h2",{children:"Su mensaje ha sido enviado!"}),Object(n.jsxs)("p",{children:["Tu consulta fue registrada con el nro: ",Object(n.jsx)("strong",{children:N})," "]})]})}):Object(n.jsx)("section",{className:"contacto",children:Object(n.jsxs)("div",{className:"contactoContainer",children:[Object(n.jsx)("h1",{children:"Formulario de Contacto"}),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={buyer:{name:c,phone:o,email:O},date:p.a.firestore.FieldValue.serverTimestamp()};v().collection("mensaje").add(t).then((function(e){var t=e.id;S(t)})).finally(console.log(t))},className:"contactForm",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:"Nombre y Apellido:"}),Object(n.jsx)("input",{value:c,onChange:function(e){r(e.target.value)},type:"text",required:!0})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:"Telefono:"}),Object(n.jsx)("input",{value:o,onChange:function(e){l(e.target.value)},type:"text",required:!0})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:"Correo Electr\xf3nico:"}),Object(n.jsx)("input",{value:O,onChange:function(e){u(e.target.value)},type:"email",required:!0})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:"Mensaje:"}),Object(n.jsx)("textarea",{value:m,onChange:function(e){f(e.target.value)},type:"text",required:!0})]}),Object(n.jsx)("button",{type:"submit",children:"Enviar"})]})]})})})}),T=(c(54),function(){var e=d(),t=e.cart,c=e.removeItem,i=e.clearCart,r=e.total;return Object(n.jsxs)("div",{className:"cart",children:[Object(n.jsx)("h1",{children:"Carrito"}),t.length>0?Object(n.jsxs)("div",{className:"cartContainer",children:[Object(n.jsx)("div",{className:"carritoTotal",children:t.map((function(e,t){return Object(n.jsxs)("div",{className:"cartDetalle",children:[Object(n.jsx)("p",{children:Object(n.jsx)("strong",{children:e.item.title})}),Object(n.jsxs)("p",{children:["Cantidad: ",e.cantidad]}),Object(n.jsxs)("p",{children:["Precio: $",e.item.price]}),Object(n.jsxs)("p",{children:["Subtotal: $",e.item.price*e.cantidad]}),Object(n.jsx)("button",{onClick:function(){return c(e.item.id,e.cantidad,e.item.price*e.cantidad)},children:"X"})]},t)}))}),Object(n.jsxs)("div",{className:"total",children:[Object(n.jsx)("hr",{}),Object(n.jsx)("p",{children:Object(n.jsxs)("strong",{children:["Total: $",r]})}),Object(n.jsxs)("div",{className:"buttons",children:[t.length>0&&Object(n.jsx)("button",{className:"carrito_vacio",onClick:i,children:"Vaciar carrito"}),Object(n.jsx)(O.b,{to:"/checkout",className:"checkoutCart",children:"Finalizar compra"})]})]})]}):Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"carritoVacioMensaje",children:[Object(n.jsx)("p",{children:"El carrito est\xe1 vac\xedo"}),Object(n.jsx)(O.b,{to:"/",className:"carritoVacioBoton",children:"Volver al inicio"})]})})]})}),P=(c(55),function(){var e=d().total,t=Object(i.useState)(""),c=Object(j.a)(t,2),r=c[0],a=c[1],s=Object(i.useState)(""),o=Object(j.a)(s,2),l=o[0],b=o[1],O=Object(i.useState)(""),u=Object(j.a)(O,2),h=u[0],x=u[1],m=d(),f=m.cart,g=m.clearCart,C=Object(i.useState)(),N=Object(j.a)(C,2),S=N[0],y=N[1];return Object(n.jsx)(n.Fragment,{children:S?Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("section",{className:"order",children:[Object(n.jsx)("h2",{children:"Compra realizada con exito!"}),Object(n.jsxs)("p",{children:["Tu numero de orden es: ",Object(n.jsx)("strong",{children:S})," "]})]})}):Object(n.jsx)("section",{className:"checkout",children:Object(n.jsxs)("div",{className:"orderContainer",children:[Object(n.jsx)("h1",{children:"Checkout"}),Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault();var c={buyer:{name:r,phone:l,email:h},date:p.a.firestore.FieldValue.serverTimestamp(),items:f,total:e};v().collection("orders").add(c).then((function(e){var t=e.id;g(),y(t)})).catch((function(e){console.log(e)})).finally(console.log(c))},className:"formCheckout",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:"Nombre y Apellido:"}),Object(n.jsx)("input",{value:r,onChange:function(e){a(e.target.value)},type:"text",required:!0})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:"Telefono:"}),Object(n.jsx)("input",{value:l,onChange:function(e){b(e.target.value)},type:"text",required:!0})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:"Correo Electr\xf3nico:"}),Object(n.jsx)("input",{value:h,onChange:function(e){x(e.target.value)},type:"email",required:!0})]}),Object(n.jsx)("button",{type:"submit",children:"Comprar"})]})]})})})}),D=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"PS4"}),Object(n.jsx)(g,{category:"VdeIJOKUQS6dZJxedTfy"})]})},E=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Nintendo Switch"}),Object(n.jsx)(g,{category:"ncTyebC4QXT8Rbm9IosG"})]})},A=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"FunkoPop"}),Object(n.jsx)(g,{category:"SA6R2ffDSO6OXyw3UwIl"})]})};c(56);var M=function(){return Object(n.jsx)("footer",{className:"footer",children:Object(n.jsx)("p",{children:"\xa9 P\xe1gina creada con React "})})};var V=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"App",children:Object(n.jsx)("header",{className:"App-header",children:Object(n.jsx)(O.a,{children:Object(n.jsxs)(b,{children:[Object(n.jsx)(h,{}),Object(n.jsxs)(k.c,{children:[Object(n.jsx)(k.a,{exact:!0,path:"/",children:Object(n.jsx)(g,{})}),Object(n.jsx)(k.a,{exact:!0,path:"/item/:id",children:Object(n.jsx)(F,{})}),Object(n.jsx)(k.a,{exact:!0,path:"/PS4",children:Object(n.jsx)(D,{})}),Object(n.jsx)(k.a,{exact:!0,path:"/NSwitch",children:Object(n.jsx)(E,{})}),Object(n.jsx)(k.a,{exact:!0,path:"/FunkoPop",children:Object(n.jsx)(A,{})}),Object(n.jsx)(k.a,{exact:!0,path:"/Contacto",children:Object(n.jsx)(I,{})}),Object(n.jsx)(k.a,{exact:!0,path:"/Cart",children:Object(n.jsx)(T,{})}),Object(n.jsx)(k.a,{path:"/Checkout",children:Object(n.jsx)(P,{})})]}),Object(n.jsx)(M,{})]})})})})})},w=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,58)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),n(e),i(e),r(e),a(e)}))};s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(V,{})}),document.getElementById("root")),w()}},[[57,1,2]]]);
//# sourceMappingURL=main.2424df76.chunk.js.map